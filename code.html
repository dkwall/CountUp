<!doctype html>
<html lang="en" class="h-100">

<head>
    <title>Count Up | The Code By Dakota Wall</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/img/CountUpMarkWhiteBG.svg">
    <!-- Montserrat (Logo) font imported from Google Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <!-- Font Awesome imported-->
    <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>
    <!-- CSS for Prism-->
    <link rel="stylesheet" href="/css/prism.css">
    <!--My personal CSS-->
    <link rel="stylesheet" href="/css/site.css">
</head>

<body class="d-flex flex-column h-100">
    <!-- ==== Nav Section ==== -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html"><img src="/img/CountUpMarkTranspBG.svg" class="d-inline-block align-text-top logoFont" width="30" height="24" alt=""> Count Up</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav me-auto mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="app.html">The App</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="code.html">The Code</a>
                    </li>
        <!--NEED TO UPDATE EACH PROJECT TO INCLUDE THE REPO TARGET URL-->
                    <li class="nav-item">
                        <a class="nav-link" target="_blank" href="https://github.com/dkwall/CountUp.git" title="https://github.com/dkwall/CountUp.git">
                            Git Repo <svg xmlns="http://www.w3.org/2000/svg" class="h-1 w-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                          </svg>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" target="_blank" href="http://dk-developments.com/" title="https://dk-developments.com">
                            About The Dev <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                              </svg>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- ==== Main Section ==== -->
    <main class="flex-shrink-0">
        <div class="container py-5 px-5">
            <h2 class="border-1 border-bottom border-dark mt-5">The Code for Count Up</h2>
            <div class="row row-cols-1 row-cols-lg-2">
                <div class="col-lg-8">
                    <pre class="line-numbers"><code class="language-javascript">
                        // Get values from the UI
                        // Controller function
                        function getValues() {
                            // get values from the page
                            let startValue = document.getElementById("startValue").value;
                            let endValue = document.getElementById("endValue").value;
                        
                            // We need to validate our input
                            // parse into Integers
                            startValue = parseInt(startValue);
                            endValue = parseInt(endValue);
                        
                            if (Number.isInteger(startValue) && Number.isInteger(endValue)) {
                                // call generateNumbers
                                let numbers = generateNumbers(startValue, endValue);
                                // call displayNumbers
                                displayNumbers(numbers);
                            } else {
                                alert("You must enter integers");
                            }                        
                        }
                        
                        // Generate numbers from the startVaule to the endValue
                        // Logic function(s)
                        function generateNumbers(startValue, endValue) {
                        
                            let numbers = [];
                            // We want to get all numbers from start to end, inclusive to both
                            for(let i = startValue; i <= endValue; i++) {
                        
                                numbers.push(i);
                            }
                            return numbers;
                        }
                        
                        // Display the numbers and mark the even numbers BOLD
                        // View function
                        function displayNumbers(numbers) {
                        
                            let templateRows = "";
                            for (let i = 0; i < numbers.length; i++) {
                        
                                let className = "even:;"
                                let number = numbers[i];
                        
                                if(number % 2 === 0) {
                                    className = "even";
                                } else {
                                    className = "odd";
                                }
                                //Template literals do not display correctly. Please view the source code for clarity.
                                templateRows += `<tr><td class="${className}">${number}</td></tr>`;
                            }
                            document.getElementById("results").innerHTML = templateRows;                            
                        }
                    </code>
                    </pre>
                </div>
                <div class="col-lg-4">
                    <h3>Introduction</h3>
                    <p>
                        Although this application was simple enough to have likely written it in less code, I thought that it was important to keep solid programming principles in tact, such as the separation of concerns. To do this, the application was broken down into three main parts: the controller that controls the thread of execution, the logical function(s) that performs the actual "program", and the view that updates the Document Object Model (DOM) to display the results of the logic that was run. I have structured the code in this order as well to keep it easy to follow.
                    </p><br>
                    <p>
                        One other part of the function does exist outside of the displayed javascript file on this page. This is a single line of code included in a "script" element in the html body of The App page. This line of code invokes The Controller function, getValues(), when the "Display the Numbers" button is clicked.
                    </p><br>                    
                    <h3>The Controller</h3>
                    <p>
                        The first part of the program is the controller, or the function that is invoked when the "Display the Numbers" button is clicked on The App page. The purpose of this function is to control the thread of execution by declaring the global variables and invoking function that will perform the logic and then the function that will update the DOM. This makes it easier to write and follow the code, and easier to refactor the code if and when necessary. 
                    </p><br>
                    <p>
                        The declared function name is getValues. It declares the variables startValue and endValue in this block by retrieving the value attribute of the respective elements of the HTML document given the Id's referenced ("startValue" and "endValue").
                    </p><br>                    
                    <p>
                        We then have to validate our input to ensure that the value passed is of the type integer. We use the built-in function parseInt and pass in each variable declared above to do this. I found that this was an important step because the retrieved "value" is actually a string. For example, if the user inputs the starting value of 0, the startValue becomes a string "0" not an integer 0. 
                    </p><br>                    
                    <p>
                        Following the validation, we ensure that we have the user pass in an integer (or at least a value that can be parsed into an integer) by using a for-loop. If the values are both integers after parsing, we can invoke our logic function. Otherwise, we will display a request to the user "You must enter integers." We will step through the invoked functions in the sections to follow this, but for now we need to know that the logic function returns to us an array of numbers that go from startValue to endValue, inclusively.
                    </p><br>                    
                    <p>
                        Finally, our Controller Function invokes the View Function to write HTML within the element with the Id of "results" using another for loop. Like our Logic Function, we will step through this function later. What is important to the Controller function is that the View function returns valid HTML with either a class of "even" or "odd" depending on the value of the if-else statement. Our site.css file will then control whether the value on the user's screen is bold or normal font weight.
                    </p><br>
                    <h3>The Logic</h3>
                    <p>
                        The Logic function, generateNumbers, is only called when The Controller function calls it. It takes in two parameters that we called startValue and endValue for consistency, but it is important to note that they could have been defined locally by any variable name, as long as the variable names within the scope of generateNumbers retains consistent usage. Once inside our local execution context of generateNumbers, we declared a variable "numbers" with the value of an empty array. This will be used to store all of the numbers between the start and end values given by the user (inclusive to each start and end value), and the final array will be the value that is returned so The Controller can pass the array to The View function later.
                    </p><br>                    
                    <h3>The View</h3>
                    <p>
                        The View function, labelled displayNumbers, is similar to The Logic function in that it is only invoked when called on by The Controller. It takes in one parameter that is labelled "numbers" (this name is also only local to the execution context of The View function, but is kept consistent with the surrounding functions for ease of use). Within the function, we declare a local variable templateRows and assign it a value of an empty string. This will be the string that will be returned and pushed into the HTML once the execution is complete. 
                    </p><br>                    
                    <p>
                        We build this string up by iterating over the numbers value (an array). We iterate over the numbers array for each value, and assign it a className even or odd, determined on if the number is divisible by 2. We iteratively build the templateRows string for each of the number values, then update the document object with the templateRows string at the element in the HTML with the "results" Id. 
                    </p><br>                    
                </div>
            </div>
        </div>
    </main>
    <!-- ====  Footer Section ==== -->
    <footer class="footer mt-auto py-3">
        <div class="container-fluid">
            <div class="row row-cols-1 row-cols-lg-3 gy-2">
                <div class="col order-last order-lg-first text-light d-flex align-items-center justify-content-start justify-content-lg-start">
                    <div class="footer-text"><span class="text-muted">&copy;2022</span> Dakota Wall | dkwall17@gmail.com</div>
                </div>
                <div class="col d-flex align-items-center justify-content-start justify-content-lg-center">
                    <img src="/img/CountUpLogoTranspBG.svg" alt="CountUp Logo" height="75">
                </div>
                <div class="col mt-0 d-flex align-items-center justify-content-start justify-content-lg-end">
                    <div class="row">
                        <div class="col social"><a href="https://www.linkedin.com/in/dakota-wall" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a></div>
                        <div class="col social"><a href="https://github.com/dkwall" target="_blank"><i class="fab fa-github fa-2x"></i></a></div>
                        <div class="col social"><a href="https://twitter.com/dkwall17" target="_blank"><i class="fab fa-twitter fa-2x"></i></a></div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous">
    </script>
    <script src="/js/prism.js"></script>
    <script>
        Prism.plugins.NormalizeWhitespace.setDefaults({
            'remove-trailing': true,
            'remove-indent': true,
            'left-trim': true,
            'right-trim': true
        });
    </script>
</body>
</html>
